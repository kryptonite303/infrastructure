headscale:
  env:
    #HEADSCALE_DNS_BASE_DOMAIN: johnchen.dev
    HEADSCALE_PREFIXES_V4: 100.64.0.0/10
  ingress:
    main:
      enabled: true
      hosts:
        - host: headscale.k8s.johnchen.dev
          paths:
            - path: /
              service:
                port: 8080
      tls:
        - secretName: wildcard-tls-secret
          hosts:
            - headscale.k8s.johnchen.dev
    ui:
      enabled: true
      hosts:
        - host: headscale.k8s.johnchen.dev
          paths:
            - path: /web
              service:
                port: 9080
      tls:
        - secretName: wildcard-tls-secret
          hosts:
            - headscale.k8s.johnchen.dev
  persistence:
    config:
      enabled: true
  sidecars:
    ui:
      image: ghcr.io/gurucomputing/headscale-ui:latest
      ports:
        - name: http
          containerPort: 9080
      env:
        HTTP_PORT: 9080
        HTTPS_PORT: 9443
  service:
    main:
      ports:
        ui:
          port: 9080
